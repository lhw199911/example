{"ast":null,"code":"import { list_Users } from '@/pluginsAxios/request';\nexport default {\n  name: 'users',\n  data() {\n    return {\n      tableData: [],\n      pageQuery: {\n        pageFrom: 0,\n        pageNum: 10,\n        likeVal: '',\n        pageSizes: [5, 10, 20, 50]\n      },\n      dialog: {\n        title: '',\n        isShow: false,\n        form: {\n          name: '',\n          phone: '',\n          email: '',\n          icon: '',\n          password: ''\n        }\n      }\n    };\n  },\n  created() {\n    this.getListUsers();\n  },\n  methods: {\n    getListUsersSizeChange() {\n      this.pageQuery.pageFrom = 0;\n      this.getListUsers();\n    },\n    // 分页查询\n    getListUsers() {\n      this.$emit('loading', true);\n      list_Users(this.pageQuery.pageFrom, this.pageQuery.pageNum, this.pageQuery.likeVal).then(res => {\n        if (res.data.code == 200) {\n          this.tableData = res.data.data;\n        } else {\n          this.$message.error(res.data.message);\n        }\n      }).catch(err => {\n        this.$message.error(err.message);\n      }).finally(() => this.$emit('loading', false));\n    },\n    // 添加用户\n    addUser() {\n      this.dialog.title = '添加用户';\n      this.dialog.isShow = true;\n    }\n  }\n};","map":{"version":3,"names":["list_Users","name","data","tableData","pageQuery","pageFrom","pageNum","likeVal","pageSizes","dialog","title","isShow","form","phone","email","icon","password","created","getListUsers","methods","getListUsersSizeChange","$emit","then","res","code","$message","error","message","catch","err","finally","addUser"],"sources":["src/views/content/account.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-button class=\"addUser\" type=\"primary\" @click=\"addUser\">添加</el-button>\r\n        <el-input class=\"search\" placeholder=\"请输入搜索内容\" v-model=\"pageQuery.likeVal\" style=\"width: 200px; margin-bottom: 10px;\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getListUsers\"></el-button>\r\n        </el-input>\r\n\r\n        <el-table :data=\"tableData.records\">\r\n            <el-table-column prop=\"id\" label=\"ID\"></el-table-column>\r\n            <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n            <el-table-column prop=\"icon\" label=\"头像\"></el-table-column>\r\n            <el-table-column prop=\"password\" label=\"密码\"></el-table-column>\r\n            <el-table-column prop=\"phone\" label=\"电话\"></el-table-column>\r\n            <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n            <el-table-column prop=\"active\" label=\"是否存活\"></el-table-column>\r\n        </el-table>\r\n        \r\n        <el-pagination \r\n            :current-page.sync=\"pageQuery.pageFrom\"\r\n            :page-sizes=\"pageQuery.pageSizes\"\r\n            :page-size.sync=\"pageQuery.pageNum\"\r\n            :page-count=\"tableData.pages\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"tableData.total\"\r\n            @size-change=\"getListUsersSizeChange\"\r\n            @current-change=\"getListUsers\"\r\n        />\r\n\r\n        <el-dialog :title=\"dialog.title\" :visible.sync=\"dialog.isShow\" width=\"30%\">\r\n            <el-input v-model=\"dialog.form.name\" placeholder=\"请输入名称\"></el-input>\r\n            <el-input v-model=\"dialog.form.phone\" placeholder=\"请输入电话\"></el-input>\r\n            <el-input v-model=\"dialog.form.email\" placeholder=\"请输入邮箱\"></el-input>\r\n            <el-input v-model=\"dialog.form.icon\" placeholder=\"请上传头像\"></el-input>\r\n            <el-input v-model=\"dialog.form.password\" placeholder=\"请输入密码\"></el-input>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {list_Users} from '@/pluginsAxios/request';\r\n\r\nexport default {\r\n    name: 'users',\r\n    data () {\r\n        return {\r\n            tableData: [],\r\n            pageQuery: {\r\n                pageFrom: 0,\r\n                pageNum: 10,\r\n                likeVal: '',\r\n                pageSizes: [5, 10, 20, 50]\r\n            },\r\n            dialog: {\r\n                title: '',\r\n                isShow: false,\r\n                form: {\r\n                    name: '',\r\n                    phone: '',\r\n                    email: '',\r\n                    icon: '',\r\n                    password: ''\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created () {\r\n        this.getListUsers()\r\n    },\r\n    methods: {\r\n\r\n        getListUsersSizeChange(){\r\n            this.pageQuery.pageFrom = 0\r\n            this.getListUsers()\r\n        },\r\n\r\n        // 分页查询\r\n        getListUsers(){\r\n            this.$emit('loading', true)\r\n            list_Users(this.pageQuery.pageFrom, this.pageQuery.pageNum, this.pageQuery.likeVal).then(res =>{\r\n                if(res.data.code == 200){\r\n                    this.tableData = res.data.data\r\n                }else{\r\n                    this.$message.error(res.data.message)\r\n                }\r\n            }).catch(err =>{\r\n                this.$message.error(err.message)\r\n            }).finally(() =>\r\n                this.$emit('loading', false)\r\n            )\r\n\r\n        },\r\n\r\n        // 添加用户\r\n        addUser(){\r\n            this.dialog.title = '添加用户'\r\n            this.dialog.isShow = true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-pagination{\r\n    text-align: right;\r\n}\r\n.addUser{\r\n    float: right;\r\n}\r\n.search{\r\n    float: right;\r\n    margin-right: 20px;\r\n}\r\n.el-input{\r\n    margin-top: 20px;\r\n}\r\n</style>"],"mappings":"AAuCA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,SAAA;QACAC,QAAA;QACAC,OAAA;QACAC,OAAA;QACAC,SAAA;MACA;MACAC,MAAA;QACAC,KAAA;QACAC,MAAA;QACAC,IAAA;UACAX,IAAA;UACAY,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,QAAA;QACA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IAEAC,uBAAA;MACA,KAAAhB,SAAA,CAAAC,QAAA;MACA,KAAAa,YAAA;IACA;IAEA;IACAA,aAAA;MACA,KAAAG,KAAA;MACArB,UAAA,MAAAI,SAAA,CAAAC,QAAA,OAAAD,SAAA,CAAAE,OAAA,OAAAF,SAAA,CAAAG,OAAA,EAAAe,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAArB,IAAA,CAAAsB,IAAA;UACA,KAAArB,SAAA,GAAAoB,GAAA,CAAArB,IAAA,CAAAA,IAAA;QACA;UACA,KAAAuB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAArB,IAAA,CAAAyB,OAAA;QACA;MACA,GAAAC,KAAA,CAAAC,GAAA;QACA,KAAAJ,QAAA,CAAAC,KAAA,CAAAG,GAAA,CAAAF,OAAA;MACA,GAAAG,OAAA,OACA,KAAAT,KAAA,kBACA;IAEA;IAEA;IACAU,QAAA;MACA,KAAAtB,MAAA,CAAAC,KAAA;MACA,KAAAD,MAAA,CAAAE,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}