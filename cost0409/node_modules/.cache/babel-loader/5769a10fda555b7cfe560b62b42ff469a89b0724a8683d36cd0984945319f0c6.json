{"ast":null,"code":"\"use strict\";\n\nimport Vue from 'vue';\nimport axios from \"axios\";\nimport store from '@/store';\n\n// Full config:  https://github.com/axios/axios#request-config\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nlet config = {\n  baseURL: 'http://127.0.0.1:8080'\n  // baseURL: process.env.baseURL || process.env.apiUrl || \"\"\n  // timeout: 60 * 1000, // Timeout\n  // withCredentials: true, // Check cross-site Access-Control\n};\nconst _axios = axios.create(config);\n_axios.then(axiosConfig).then(res => {\n  if (res.data.code === 200) {\n    if (res.data.message) {\n      Message.success(res.data.message);\n    }\n    callback(res.data.content);\n  } else {\n    Message.error(res.data.message);\n  }\n}).catch(err => {\n  Message.error(err.message);\n}).finally(() => {\n  store.commit('SER_LOADING', false);\n});\n_axios.interceptors.request.use(function (config) {\n  // Do something before request is sent\n  return config;\n}, function (error) {\n  // Do something with request error\n  return Promise.reject(error);\n});\n\n// Add a response interceptor\n_axios.interceptors.response.use(function (response) {\n  // Do something with response data\n  return response;\n}, function (error) {\n  // Do something with response error\n  return Promise.reject(error);\n});\nPlugin.install = function (Vue, options) {\n  Vue.axios = _axios;\n  window.axios = _axios;\n  Object.defineProperties(Vue.prototype, {\n    axios: {\n      get() {\n        return _axios;\n      }\n    },\n    $axios: {\n      get() {\n        return _axios;\n      }\n    }\n  });\n};\nVue.use(Plugin);\n\n// export default Plugin;\nexport default {\n  axios: _axios\n};","map":{"version":3,"names":["Vue","axios","store","config","baseURL","_axios","create","then","axiosConfig","res","data","code","message","Message","success","callback","content","error","catch","err","finally","commit","interceptors","request","use","Promise","reject","response","Plugin","install","options","window","Object","defineProperties","prototype","get","$axios"],"sources":["E:/ActualCombat/cost0409/src/plugins/axios.js"],"sourcesContent":["\"use strict\";\n\nimport Vue from 'vue';\nimport axios from \"axios\";\nimport store from '@/store';\n\n// Full config:  https://github.com/axios/axios#request-config\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nlet config = {\n  baseURL: 'http://127.0.0.1:8080'\n  // baseURL: process.env.baseURL || process.env.apiUrl || \"\"\n  // timeout: 60 * 1000, // Timeout\n  // withCredentials: true, // Check cross-site Access-Control\n};\n\nconst _axios = axios.create(config);\n\n_axios.then(axiosConfig).then(res=>{\n  if(res.data.code === 200){\n    if(res.data.message){\n      Message.success(res.data.message)\n    }\n    callback(res.data.content)\n  }else{\n    Message.error(res.data.message)\n  }\n}).catch(err=>{\n  Message.error(err.message)\n}).finally(()=>{\n  store.commit('SER_LOADING', false);\n})\n\n_axios.interceptors.request.use(\n  function(config) {\n    // Do something before request is sent\n    return config;\n  },\n  function(error) {\n    // Do something with request error\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor\n_axios.interceptors.response.use(\n  function(response) {\n    // Do something with response data\n    return response;\n  },\n  function(error) {\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\nPlugin.install = function(Vue, options) {\n  Vue.axios = _axios;\n  window.axios = _axios;\n  Object.defineProperties(Vue.prototype, {\n    axios: {\n      get() {\n        return _axios;\n      }\n    },\n    $axios: {\n      get() {\n        return _axios;\n      }\n    },\n  });\n};\n\nVue.use(Plugin)\n\n// export default Plugin;\nexport default {\n  axios: _axios\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,SAAS;;AAE3B;AACA;AACA;AACA;;AAEA,IAAIC,MAAM,GAAG;EACXC,OAAO,EAAE;EACT;EACA;EACA;AACF,CAAC;AAED,MAAMC,MAAM,GAAGJ,KAAK,CAACK,MAAM,CAACH,MAAM,CAAC;AAEnCE,MAAM,CAACE,IAAI,CAACC,WAAW,CAAC,CAACD,IAAI,CAACE,GAAG,IAAE;EACjC,IAAGA,GAAG,CAACC,IAAI,CAACC,IAAI,KAAK,GAAG,EAAC;IACvB,IAAGF,GAAG,CAACC,IAAI,CAACE,OAAO,EAAC;MAClBC,OAAO,CAACC,OAAO,CAACL,GAAG,CAACC,IAAI,CAACE,OAAO,CAAC;IACnC;IACAG,QAAQ,CAACN,GAAG,CAACC,IAAI,CAACM,OAAO,CAAC;EAC5B,CAAC,MAAI;IACHH,OAAO,CAACI,KAAK,CAACR,GAAG,CAACC,IAAI,CAACE,OAAO,CAAC;EACjC;AACF,CAAC,CAAC,CAACM,KAAK,CAACC,GAAG,IAAE;EACZN,OAAO,CAACI,KAAK,CAACE,GAAG,CAACP,OAAO,CAAC;AAC5B,CAAC,CAAC,CAACQ,OAAO,CAAC,MAAI;EACblB,KAAK,CAACmB,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC;AACpC,CAAC,CAAC;AAEFhB,MAAM,CAACiB,YAAY,CAACC,OAAO,CAACC,GAAG,CAC7B,UAASrB,MAAM,EAAE;EACf;EACA,OAAOA,MAAM;AACf,CAAC,EACD,UAASc,KAAK,EAAE;EACd;EACA,OAAOQ,OAAO,CAACC,MAAM,CAACT,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAZ,MAAM,CAACiB,YAAY,CAACK,QAAQ,CAACH,GAAG,CAC9B,UAASG,QAAQ,EAAE;EACjB;EACA,OAAOA,QAAQ;AACjB,CAAC,EACD,UAASV,KAAK,EAAE;EACd;EACA,OAAOQ,OAAO,CAACC,MAAM,CAACT,KAAK,CAAC;AAC9B,CACF,CAAC;AAEDW,MAAM,CAACC,OAAO,GAAG,UAAS7B,GAAG,EAAE8B,OAAO,EAAE;EACtC9B,GAAG,CAACC,KAAK,GAAGI,MAAM;EAClB0B,MAAM,CAAC9B,KAAK,GAAGI,MAAM;EACrB2B,MAAM,CAACC,gBAAgB,CAACjC,GAAG,CAACkC,SAAS,EAAE;IACrCjC,KAAK,EAAE;MACLkC,GAAGA,CAAA,EAAG;QACJ,OAAO9B,MAAM;MACf;IACF,CAAC;IACD+B,MAAM,EAAE;MACND,GAAGA,CAAA,EAAG;QACJ,OAAO9B,MAAM;MACf;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AAEDL,GAAG,CAACwB,GAAG,CAACI,MAAM,CAAC;;AAEf;AACA,eAAe;EACb3B,KAAK,EAAEI;AACT,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}